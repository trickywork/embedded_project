# 项目要求详解

## 项目目标

开发一个嵌入式系统，使用单个加速度计和陀螺仪检测帕金森病的三种症状，并通过BLE将检测结果传输到移动设备。

## 三种需要检测的症状

### 1. 震颤 (Tremor) - 20分
- **定义**: 节律性振荡，频率范围 3-5Hz
- **特征**: 主要影响优势手臂
- **临床意义**: 帕金森病的主要症状之一
- **检测方法**: 使用FFT分析加速度数据，检测3-5Hz频率范围内的能量

### 2. 运动障碍 (Dyskinesia) - 20分
- **定义**: 舞蹈样运动，频率范围 5-7Hz
- **特征**: 通常由过量多巴胺药物引起
- **临床意义**: 患者从"Off"状态转为"On"状态，但可能"太On"
- **检测方法**: 使用FFT分析加速度数据，检测5-7Hz频率范围内的能量

### 3. 冻结步态 (Freezing of Gait, FOG) - 20分
- **定义**: 行走后突然的身体冻结
- **特征**: 晚期患者常见症状，可能导致急诊
- **检测方法**: 
  - 步态分析：检测步数和步频
  - 运动突然停止：检测加速度和角速度的方差突然减小

## 技术要求

### 硬件要求
- **开发板**: ST B-L475E-IOT01A1 (STM32L475VG IoT Discovery)
- **传感器**: 板载LSM6DSL（加速度计+陀螺仪）
  - 采样率: 52Hz（必须）
  - 加速度计量程: ±2g（必须）
- **通信**: 集成BLE模块
- **电源**: 可使用移动电源供电
- **限制**: 只能使用开发板资源，不能添加额外硬件

### 软件要求
- **开发环境**: 只能使用PlatformIO
- **数据采集**: 3秒数据窗口（52Hz × 3秒 = 156个样本）
- **信号处理**: 使用FFT库进行频率分析
- **BLE通信**: 在单个服务上创建三个不同的BLE特征值

### 数据流程
1. **数据采集**: 52Hz采样率，持续采集传感器数据
2. **数据窗口**: 收集3秒数据（156个样本）
3. **FFT分析**: 对3秒窗口进行FFT，获得频率分布
4. **症状检测**: 
   - 震颤: 检测3-5Hz频率能量
   - 运动障碍: 检测5-7Hz频率能量
   - 冻结步态: 分析步态模式和运动突然停止
5. **结果传输**: 通过BLE发送检测结果和强度

## 评分标准

1. **震颤检测能力** (20%)
2. **运动障碍检测能力** (20%)
3. **冻结步态检测能力** (20%)
4. **可重复性和鲁棒性** (10%) - 通过视频演示验证
5. **易用性** (10%)
6. **创造性** (10%)
7. **代码质量** (5%)
8. **复杂度** (5%)

## 交付物

1. **PlatformIO项目目录**（必须提交）
2. **1分钟演示视频**（必须提交）

## 关键参数

- **采样频率**: 52Hz（固定）
- **数据窗口**: 3秒（156个样本）
- **震颤频率范围**: 3-5Hz
- **运动障碍频率范围**: 5-7Hz
- **FFT库**: 需要自行研究选择合适的库

